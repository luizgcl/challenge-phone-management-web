<nav class="bg-white nav shadow-sm p-2 mb-4 d-flex align-items-center">
  <a class="text-decoration-none" routerLink="/">
    <h1 class="fs-3">
      <app-logo variant="black" />
    </h1>
  </a>
  <div class="vr mx-2"></div>
  <h2 class="fs-4">Números Disponíveis</h2>
</nav>
<section class="container">
  @if (errorMessage) {
    <div class="alert alert-danger my-4" role="alert">
      <strong>Erro:</strong> {{ errorMessage }}
    </div>
  }
  <form class="card p-2" [formGroup]="phoneForm" (ngSubmit)="onSubmit()">
    <h3>Cadastro de Telefone</h3>
    <div class="mb-2">
      <label for="phone">Número de Telefone:</label>
      <input id="phone" formControlName="value" class="form-control" />
      @if(phoneForm.get('value')?.invalid && phoneForm.get('value')?.touched) {
        @if(phoneForm.get('value')?.errors!['required']) {
          <small class="text-danger">Número de telefone é obrigatório.</small>
        }
        @if(phoneForm.get('value')?.errors!['pattern']) {
          <small class="text-danger">O número de telefone inválido.</small>
        }
      }
    </div>
    <div class="row mb-2">
      <div class="col-6">
        <label for="monthlyPrice">Preço Mensal:</label>
        <input id="monthlyPrice" formControlName="monthlyPrice" class="form-control" />
        @if(phoneForm.get('monthlyPrice')?.invalid && phoneForm.get('monthlyPrice')?.touched) {
          @if(phoneForm.get('monthlyPrice')?.errors!['required']) {
            <small class="text-danger">O preço mensal é obrigatório.</small>
          }
        }
      </div>
      <div class="col-6">
        <label for="setupPrice">Preço de Configuração:</label>
        <input id="setupPrice" formControlName="setupPrice" class="form-control" />
        @if(phoneForm.get('setupPrice')?.invalid && phoneForm.get('setupPrice')?.touched) {
          @if(phoneForm.get('setupPrice')?.errors!['required']) {
            <small class="text-danger">O preço de configuração é obrigatório.</small>
          }
        }
      </div>
    </div>

    <div class="row mb-2">
      <div class="col-6">
        <label for="currency">Moeda:</label>
        <input type="text" list="currency" formControlName="currency" class="form-control" />
        <datalist id="currency">
          <option value="" disabled selected>Selecione a moeda</option>
          <option value="BRL">Real Brasileiro (BRL)</option>
          <option value="USD">Dólar Americano (USD)</option>
          <option value="EUR">Euro (EUR)</option>
        </datalist>
        @if(phoneForm.get('currency')?.invalid && phoneForm.get('currency')?.touched) {
          @if(phoneForm.get('currency')?.errors!['required']) {
            <small class="text-danger">A moeda é obrigatória.</small>
          }
        }
      </div>
    </div>

    <footer class="mt-2 d-flex justify-content-end gap-2">
      <button type="button" class="btn btn-secondary" routerLink="../">Cancelar</button>
      <button type="submit" class="btn btn-success" [disabled]="phoneForm.invalid">Adicionar Número</button>
    </footer>
  </form>
</section>
